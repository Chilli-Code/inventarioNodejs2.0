<style>
.pagination {
  display: flex;
  justify-content: space-between; /* 🔹 Números a la izq, total a la der */
  align-items: center;
  margin-top: auto;
  gap: 10px;
  flex-wrap: wrap; /* 🔹 Para que en móvil se acomode */
}

/* Contenedor de números scrollable en móvil */
.pagination-numbers {
  display: flex;
  gap: 6px;
  overflow-x: auto; /* 🔹 Scroll horizontal en Android */
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 5px;
}

.pagination .page {
  display: inline-block;
  padding: 4px 15px;
  background: #eee;
  color: #333;
  border-radius: 4px;
  text-decoration: none;
  flex-shrink: 0; /* 🔹 Evita que se achiquen */
}

.pagination .page.current {
  background: var(--action-color);
  color: white;
  font-weight: bold;
}

.pagination .page:hover {
  background: #ccc;
}

.info-productos span {
  margin: 0;
  font-weight: 500;
  color: var(--app-content-main-color);
}
.info-productos div{
    display: flex;
    align-items: center;
    gap:5px;
}
.info-productos div span{
    display: flex;
    gap:5px;

}
  .icon {
  color: var(--app-content-main-color);
}

@media (max-width: 213px) {
.pagination{
    justify-content: center;
}
}

    
</style>

<div class="products-area-wrapper tableView direction" id="products-row">
  <div style="margin-bottom: 20px;">
  </div>
  <table>
    <thead class="products-header">
      <tr>
        <th class="product-cell padding color: var(--app-content-main-color);" style="padding: 2px 20px;">
          N°
        </th>
        <th class="product-cell padding color: var(--app-content-main-color);">
          Articulo
        </th>
        <th class="product-cell padding color: var(--app-content-main-color);">
          Categoria
        </th>
        <th class="product-cell padding color: var(--app-content-main-color);">
          Estado
        </th>
        <th class="product-cell padding color: var(--app-content-main-color);">
          Ventas
        </th>
        </th>
        <th class="product-cell padding color: var(--app-content-main-color);">
          Cantidad
        </th>
        <th class="product-cell padding color: var(--app-content-main-color);">
          Precio
        </th>
        <th class="product-cell padding color: var(--app-content-main-color);">
          Hora
        </th>
      </tr>
    </thead>
    <tbody>
      <% if (data && data.length> 0) { %>
      <% for (var i=0; i < data.length; i++) { %>
      <tr class="products-row articulo busquedaExitosa">
        <td class="busqueda iconosPosision">
          <a class="boton-editar" href="/products/update/<%= data[i]._id %>" title="Editar">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical">
              <circle cx="12" cy="12" r="1"></circle>
              <circle cx="12" cy="5" r="1"></circle>
              <circle cx="12" cy="19" r="1"></circle>
            </svg>
          </a>
</div>
<a href="/products/delete/<%= data[i]._id %>" class="Menu-opciones-articulos-eliminar del-btn" onclick="event.preventDefault(); Swal.fire({
        title: '¿Estás seguro de que quieres eliminar este elemento?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Sí, eliminar',
        cancelButtonText: 'Cancelar'
    }).then((result) => {
        if (result.isConfirmed) {
            window.location.href = '/products/delete/<%= data[i]._id %>';
        }
    })">

  <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105.16 122.88">
    <defs>
      <style>
        .cls-1 {
          fill-rule: evenodd;
        }
      </style>
    </defs>
    <title>Eliminar</title>
    <path class="cls-1" d="M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z">
    </path>
  </svg>
</a>

</td>

<td class="product-cell tituloProduct padd">
  <%= (i + 1) %>
</td>
<td class="product-cell tituloProduct busqueda">
  <%= data[i].producto %>
</td>
<td class="product-cell category">
  <span class="cell-label">Categoria:</span>
  <%= data[i].categoria %>
</td>
<td class="product-cell status-cell">
  <span class="cell-label">Estado:</span>
  <span class="status <%= data[i].estado === 'Activo' ? 'active' : 'disabled' %>">
    <%= data[i].estado %>
  </span>
</td>
<td class="product-cell sales">
  <span class="cell-label">Ventas:</span>
  <%= data[i].ventas %>
</td>
<td class="product-cell cantidad">
  <span class="cell-label">Cantidad:</span>
  <%= data[i].cantidad %>
</td>
<td class="product-cell price">
  <span class="cell-label">Precio:</span>
  <p style="color:#2ba972">$</p>
  <%= data[i].precio.toLocaleString('es-CO') %>
</td>
<td class="product-cell hora"><span class="cell-label">Hora:</span>
  <%= data[i].hora %>
</td>
</tr>
<% } %>

</tbody>
</table>
</div>
<div class="pagination">
  <!-- 🔹 Números de página -->
  <div class="pagination-numbers">
    <% if (totalPages > 1) { %>
      <% for (var p = 1; p <= totalPages; p++) { %>
        <% if (p === currentPage) { %>
          <span class="page current"><%= p %></span>
        <% } else { %>
          <a class="page" href="/products?page=<%= p %>"><%= p %></a>
        <% } %>
      <% } %>
    <% } %>
  </div>

  <!-- 🔹 Total productos -->
  <div class="info-productos">
    <div>
        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="24px" fill="currentColor" class="icon" ><path d="M240-80q-33 0-56.5-23.5T160-160v-480q0-33 23.5-56.5T240-720h80q0-66 47-113t113-47q66 0 113 47t47 113h80q33 0 56.5 23.5T800-640v480q0 33-23.5 56.5T720-80H240Zm0-80h480v-480h-80v80q0 17-11.5 28.5T600-520q-17 0-28.5-11.5T560-560v-80H400v80q0 17-11.5 28.5T360-520q-17 0-28.5-11.5T320-560v-80h-80v480Zm160-560h160q0-33-23.5-56.5T480-800q-33 0-56.5 23.5T400-720ZM240-160v-480 480Z"/></svg>
        <span>Total <p style="color: #2ba972;"><%= totalProducts %></p></span>

    </div>
    <div style="display: flex; align-items: center;">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
       viewBox="0 0 24 24" fill="currentColor"
       stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
       class="feather feather-filter icon">
    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
  </svg>
        <span>Filtros <p id="filteredCount"style="color: #2ba972;">0</p></span>
    </div>
  </div>
</div>

<% } else { %>

<div class="noData">
  <div class="noDataDiv">
    <h2>No Hay Datos</h2>
    <p>Agregue Sus Productos🧐</p>
    <div class="lottie-animation" style="height: 250px;" data-animation-path="/Lottie/noData2.0.json"></div>
  </div>
</div>


<% } %>



