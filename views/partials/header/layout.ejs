<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <!-- Estilos globales -->
  <link rel="stylesheet" href="/css/containerSell.css">
  <link rel="stylesheet" href="/css/containerHome.css">
<meta name="description" content="App web para gestionar inventario de productos">

  <% if (currentOption==='/usuarios') { %>
  <link rel="stylesheet" href="/css/dashboard.css">
<link rel="stylesheet" href="/toastify/toastify.css">
<script src="/toastify/toastify.js"></script>


<% } %>


  <% if (currentOption==='/products' ) { %>
  <link rel="stylesheet" href="/css/dashboard.css">
  <script src="/js/addProduct.js" defer></script>
  <script src="/js/buscador.js" defer></script>
  <script src="/js/HoraInput.js" defer></script>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <% } %>

  <% if (currentOption==='edit-product' ) { %>
  <script src="/js/HoraInput.js" defer></script>

  <% } %>
  <% if (currentOption==='/sell' ) { %>
  <script src="/js/HoraInput.js" defer></script>
  <link rel="stylesheet" href="/css/recibo.css">
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>

  <% } %>
  <% if (currentOption==='/receipt_page' ) { %>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
  <% } %>
  <% if (currentOption==='/statistics' ) { %>

  <link rel="stylesheet" href="/css/statistics.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.35.5/apexcharts.min.js"></script>
  <script src="/js/swapy.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js" ></script>
  <% } %>


  <% if (currentOption==='/settings') { %>
  <link rel="stylesheet" href="/css/profile.css">
  <link rel="stylesheet" href="/css/dashboard.css">
  <% } %>
  
    <% if (currentOption==='/support') { %>
  <link rel="stylesheet" href="/css/support.css">
  <% } %>
      <% if (currentOption==='/expenses') { %>
<script src="/toastify/toastify.js"></script>
  <link rel="stylesheet" href="/css/dashboard.css">
  <link rel="stylesheet" href="/css/expenses.css">
  <% } %>

  <!-- SweetAlert2 -->
  <link rel="stylesheet" href="/css/sweetalert2.min.css">
  <script src="/js/sweetalert2.all.min.js"></script>

  <!-- Lottie (Bodymovin) -->
  <script src="/js/lottie.min.js"></script>

  <!-- Scripts personalizados (globales) -->
  <script src="/js/activateLottie.js" defer></script>
  <script src="/js/navigation.js" defer></script>

  <!-- Header parcial (opcional) -->
  <%- include('./header') %>
</head>
<% if (currentOption==='/statistics' ) { %>
<script src="https://unpkg.com/swapy@latest/dist/swapy.min.js"></script>

<% } %>

  <% if (currentOption==='/user') { %>
  <link rel="stylesheet" href="/css/dashboard.css">
  <% } %>
    <% if (currentOption==='/my-profile') { %>
  <link rel="stylesheet" href="/css/dashboard.css">
  <% } %>
<% if (currentOption==='/home') { %>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <script src="/js/lottie-player.js" defer></script>
    
    <% if (user && user.role === 'admin') { %>
        <link rel="stylesheet" href="/css/adminHome.css">
    <% } %>
<% } %>
  <% if (currentOption==='/receipt_page') { %>
<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
<% } %>

<body>
  <script>
    // Pasar el rol del usuario a JavaScript
    <% if (user) { %>
      window.userRole = '<%= user.role %>';
      window.userId = '<%= user.id %>';
      window.userName = '<%= user.nombre %>';
    <% } else { %>
      window.userRole = null;
    <% } %>
  </script>
  <script src="/js/notifications.js"></script>



    <% if (currentOption==='/settings') { %>
  <script src="/js/addProduct.js" defer></script>
      
      <% } %>

  <% if (currentOption==='/usuarios') { %>
  <script src="/js/addProduct.js" defer></script>
    <script src="/js/lottie-player.js" defer></script>
    <script src="/js/filtersUsers.js" defer></script>

  <script>
  <% if (success_msg) { %>
    Toastify({
      text: "<%= success_msg %>",
      duration: 3000,
      gravity: "top", // 'top' or 'bottom'
      position: "center", // 'left', 'center' or 'right'
      backgroundColor: "#28a745",
    }).showToast();
  <% } %>

  <% if (error_msg) { %>
    Toastify({
      text: "<%= error_msg %>",
      duration: 3000,
      gravity: "top",
      position: "center",
      backgroundColor: "#dc3545",
    }).showToast();
  <% } %>
</script>
<% } %>
  <% if (currentOption==='/products' ) { %>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="/js/categorias.js" defer></script>
     <% } %>
</body>

</html>